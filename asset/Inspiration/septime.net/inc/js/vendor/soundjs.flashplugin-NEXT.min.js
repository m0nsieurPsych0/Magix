/**
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2012 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
* 
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
**/

/**
 * SoundJS FlashPlugin also includes swfobject (http://code.google.com/p/swfobject/)
 */var swfobject=function(){function g(){if(!A){try{var h=d.getElementsByTagName("body")[0].appendChild(d.createElement("span"));h.parentNode.removeChild(h)}catch(a){return}A=!0;for(var h=I.length,b=0;b<h;b++)I[b]()}}function y(h){A?h():I[I.length]=h}function C(h){if(typeof r.addEventListener!=m)r.addEventListener("load",h,!1);else if(typeof d.addEventListener!=m)d.addEventListener("load",h,!1);else if(typeof r.attachEvent!=m){var a=r;a.attachEvent("onload",h);D[D.length]=[a,"onload",h]}else if("function"==
typeof r.onload){var b=r.onload;r.onload=function(){b();h()}}else r.onload=h}function a(){var h=v.length;if(0<h)for(var a=0;a<h;a++){var b=v[a].id,k=v[a].callbackFn,l={success:!1,id:b};if(0<f.pv[0]){var d=t(b);if(d)if(J(v[a].swfVersion)&&!(f.wk&&312>f.wk))B(b,!0),k&&(l.success=!0,l.ref=e(b),k(l));else if(v[a].expressInstall&&j()){l={};l.data=v[a].expressInstall;l.width=d.getAttribute("width")||"0";l.height=d.getAttribute("height")||"0";d.getAttribute("class")&&(l.styleclass=d.getAttribute("class"));
d.getAttribute("align")&&(l.align=d.getAttribute("align"));for(var S={},d=d.getElementsByTagName("param"),g=d.length,n=0;n<g;n++)"movie"!=d[n].getAttribute("name").toLowerCase()&&(S[d[n].getAttribute("name")]=d[n].getAttribute("value"));w(l,S,b,k)}else s(d),k&&k(l)}else if(B(b,!0),k){if((b=e(b))&&typeof b.SetVariable!=m)l.success=!0,l.ref=b;k(l)}}}function e(h){var a=null;if((h=t(h))&&"OBJECT"==h.nodeName)typeof h.SetVariable!=m?a=h:(h=h.getElementsByTagName(x)[0])&&(a=h);return a}function j(){return!K&&
J("6.0.65")&&(f.win||f.mac)&&!(f.wk&&312>f.wk)}function w(h,a,b,k){K=!0;O=k||null;T={success:!1,id:b};var l=t(b);if(l){"OBJECT"==l.nodeName?(G=p(l),L=null):(G=l,L=b);h.id=U;if(typeof h.width==m||!/%$/.test(h.width)&&310>parseInt(h.width,10))h.width="310";if(typeof h.height==m||!/%$/.test(h.height)&&137>parseInt(h.height,10))h.height="137";d.title=d.title.slice(0,47)+" - Flash Player Installation";k=f.ie&&f.win?"ActiveX":"PlugIn";k="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,
"%26")+"&MMplayerType="+k+"&MMdoctitle="+d.title;a.flashvars=typeof a.flashvars!=m?a.flashvars+("&"+k):k;f.ie&&(f.win&&4!=l.readyState)&&(k=d.createElement("div"),b+="SWFObjectNew",k.setAttribute("id",b),l.parentNode.insertBefore(k,l),l.style.display="none",function(){4==l.readyState?l.parentNode.removeChild(l):setTimeout(arguments.callee,10)}());P(h,a,b)}}function s(h){if(f.ie&&f.win&&4!=h.readyState){var a=d.createElement("div");h.parentNode.insertBefore(a,h);a.parentNode.replaceChild(p(h),a);h.style.display=
"none";(function(){4==h.readyState?h.parentNode.removeChild(h):setTimeout(arguments.callee,10)})()}else h.parentNode.replaceChild(p(h),h)}function p(a){var c=d.createElement("div");if(f.win&&f.ie)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(x)[0])if(a=a.childNodes)for(var b=a.length,k=0;k<b;k++)!(1==a[k].nodeType&&"PARAM"==a[k].nodeName)&&8!=a[k].nodeType&&c.appendChild(a[k].cloneNode(!0));return c}function P(a,c,b){var k,l=t(b);if(f.wk&&312>f.wk)return k;if(l)if(typeof a.id==m&&(a.id=
b),f.ie&&f.win){var e="",j;for(j in a)a[j]!=Object.prototype[j]&&("data"==j.toLowerCase()?c.movie=a[j]:"styleclass"==j.toLowerCase()?e+=' class="'+a[j]+'"':"classid"!=j.toLowerCase()&&(e+=" "+j+'="'+a[j]+'"'));j="";for(var g in c)c[g]!=Object.prototype[g]&&(j+='<param name="'+g+'" value="'+c[g]+'" />');l.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+e+">"+j+"</object>";M[M.length]=a.id;k=t(a.id)}else{g=d.createElement(x);g.setAttribute("type",N);for(var n in a)a[n]!=Object.prototype[n]&&
("styleclass"==n.toLowerCase()?g.setAttribute("class",a[n]):"classid"!=n.toLowerCase()&&g.setAttribute(n,a[n]));for(e in c)c[e]!=Object.prototype[e]&&"movie"!=e.toLowerCase()&&(a=g,j=e,n=c[e],b=d.createElement("param"),b.setAttribute("name",j),b.setAttribute("value",n),a.appendChild(b));l.parentNode.replaceChild(g,l);k=g}return k}function V(a){var c=t(a);c&&"OBJECT"==c.nodeName&&(f.ie&&f.win?(c.style.display="none",function(){if(4==c.readyState){var b=t(a);if(b){for(var k in b)"function"==typeof b[k]&&
(b[k]=null);b.parentNode.removeChild(b)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function t(a){var c=null;try{c=d.getElementById(a)}catch(b){}return c}function J(a){var c=f.pv;a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function W(a,c,b,k){if(!f.ie||!f.mac){var e=d.getElementsByTagName("head")[0];if(e){b=b&&"string"==typeof b?b:"screen";k&&(Q=
u=null);if(!u||Q!=b)k=d.createElement("style"),k.setAttribute("type","text/css"),k.setAttribute("media",b),u=e.appendChild(k),f.ie&&(f.win&&typeof d.styleSheets!=m&&0<d.styleSheets.length)&&(u=d.styleSheets[d.styleSheets.length-1]),Q=b;f.ie&&f.win?u&&typeof u.addRule==x&&u.addRule(a,c):u&&typeof d.createTextNode!=m&&u.appendChild(d.createTextNode(a+" {"+c+"}"))}}}function B(a,c){if(X){var b=c?"visible":"hidden";A&&t(a)?t(a).style.visibility=b:W("#"+a,"visibility:"+b)}}function Y(a){return null!=/[\\\"<>\.;]/.exec(a)&&
typeof encodeURIComponent!=m?encodeURIComponent(a):a}var m="undefined",x="object",N="application/x-shockwave-flash",U="SWFObjectExprInst",r=window,d=document,z=navigator,Z=!1,I=[function(){if(Z){var h=d.getElementsByTagName("body")[0],c=d.createElement(x);c.setAttribute("type",N);var b=h.appendChild(c);if(b){var e=0;(function(){if(typeof b.GetVariable!=m){var d=b.GetVariable("$version");d&&(d=d.split(" ")[1].split(","),f.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)])}else if(10>e){e++;
setTimeout(arguments.callee,10);return}h.removeChild(c);b=null;a()})()}else a()}else a()}],v=[],M=[],D=[],G,L,O,T,A=!1,K=!1,u,Q,X=!0,f,aa=typeof d.getElementById!=m&&typeof d.getElementsByTagName!=m&&typeof d.createElement!=m,E=z.userAgent.toLowerCase(),F=z.platform.toLowerCase(),ba=F?/win/.test(F):/win/.test(E),F=F?/mac/.test(F):/mac/.test(E),E=/webkit/.test(E)?parseFloat(E.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,R=!+"\v1",H=[0,0,0],q=null;if(typeof z.plugins!=m&&typeof z.plugins["Shockwave Flash"]==
x){if((q=z.plugins["Shockwave Flash"].description)&&!(typeof z.mimeTypes!=m&&z.mimeTypes[N]&&!z.mimeTypes[N].enabledPlugin))Z=!0,R=!1,q=q.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),H[0]=parseInt(q.replace(/^(.*)\..*$/,"$1"),10),H[1]=parseInt(q.replace(/^.*\.(.*)\s.*$/,"$1"),10),H[2]=/[a-zA-Z]/.test(q)?parseInt(q.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof r.ActiveXObject!=m)try{var $=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if($&&(q=$.GetVariable("$version")))R=!0,q=q.split(" ")[1].split(","),
H=[parseInt(q[0],10),parseInt(q[1],10),parseInt(q[2],10)]}catch(ca){}f={w3:aa,pv:H,wk:E,ie:R,win:ba,mac:F};f.w3&&((typeof d.readyState!=m&&"complete"==d.readyState||typeof d.readyState==m&&(d.getElementsByTagName("body")[0]||d.body))&&g(),A||(typeof d.addEventListener!=m&&d.addEventListener("DOMContentLoaded",g,!1),f.ie&&f.win&&(d.attachEvent("onreadystatechange",function(){"complete"==d.readyState&&(d.detachEvent("onreadystatechange",arguments.callee),g())}),r==top&&function(){if(!A){try{d.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,
0);return}g()}}()),f.wk&&function(){A||(/loaded|complete/.test(d.readyState)?g():setTimeout(arguments.callee,0))}(),C(g)));f.ie&&f.win&&window.attachEvent("onunload",function(){for(var a=D.length,c=0;c<a;c++)D[c][0].detachEvent(D[c][1],D[c][2]);a=M.length;for(c=0;c<a;c++)V(M[c]);for(var b in f)f[b]=null;f=null;for(var d in swfobject)swfobject[d]=null;swfobject=null});return{registerObject:function(a,c,b,d){if(f.w3&&a&&c){var e={};e.id=a;e.swfVersion=c;e.expressInstall=b;e.callbackFn=d;v[v.length]=
e;B(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(f.w3)return e(a)},embedSWF:function(a,c,b,d,e,g,q,s,n,r){var t={success:!1,id:c};f.w3&&!(f.wk&&312>f.wk)&&a&&c&&b&&d&&e?(B(c,!1),y(function(){b+="";d+="";var f={};if(n&&typeof n===x)for(var p in n)f[p]=n[p];f.data=a;f.width=b;f.height=d;p={};if(s&&typeof s===x)for(var u in s)p[u]=s[u];if(q&&typeof q===x)for(var v in q)p.flashvars=typeof p.flashvars!=m?p.flashvars+("&"+v+"="+q[v]):v+"="+q[v];if(J(e))u=P(f,p,c),f.id==c&&B(c,!0),t.success=
!0,t.ref=u;else{if(g&&j()){f.data=g;w(f,p,c,r);return}B(c,!0)}r&&r(t)})):r&&r(t)},switchOffAutoHideShow:function(){X=!1},ua:f,getFlashPlayerVersion:function(){return{major:f.pv[0],minor:f.pv[1],release:f.pv[2]}},hasFlashPlayerVersion:J,createSWF:function(a,c,b){if(f.w3)return P(a,c,b)},showExpressInstall:function(a,c,b,d){f.w3&&j()&&w(a,c,b,d)},removeSWF:function(a){f.w3&&V(a)},createCSS:function(a,c,b,d){f.w3&&W(a,c,b,d)},addDomLoadEvent:y,addLoadEvent:C,getQueryParamValue:function(a){var c=d.location.search||
d.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(null==a)return Y(c);for(var c=c.split("&"),b=0;b<c.length;b++)if(c[b].substring(0,c[b].indexOf("="))==a)return Y(c[b].substring(c[b].indexOf("=")+1))}return""},expressInstallCallback:function(){if(K){var a=t(U);a&&G&&(a.parentNode.replaceChild(G,a),L&&(B(L,!0),f.ie&&f.win&&(G.style.display="block")),O&&O(T));K=!1}}}}();this.createjs=this.createjs||{};
(function(){function g(){this.init()}function y(a,e,j,g){this.init(a,e,j,g)}function C(a,e,j){this.init(a,e,j)}g.capabilities=null;g.BASE_PATH="src/SoundJS/";g.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS)return!1;g.generateCapabilities();return null==swfobject?!1:swfobject.hasFlashPlayerVersion("9.0.0")};g.generateCapabilities=function(){null==g.capabilities&&(g.capabilities={panning:!0,volume:!0,tracks:-1,mp3:!0,ogg:!1,mpeg:!0,wav:!0,m4a:!0,mp4:!0,aiff:!1,wma:!1,mid:!1})};g.prototype=
{audioSources:null,volume:1,CONTAINER_ID:"flashAudioContainer",WRAPPER_ID:"SoundJSFlashContainer",capabilities:null,container:null,flash:null,flashReady:!1,flashInstances:null,flashPreloadInstances:null,preloadInstances:null,queuedInstances:null,showOutput:!1,init:function(){this.capabilities=g.capabilities;this.audioSources={};this.flashInstances={};this.flashPreloadInstances={};this.preloadInstances={};this.queuedInstances=[];var a=this.wrapper=document.createElement("div");a.id=this.WRAPPER_ID;
a.style.position="absolute";a.style.marginLeft="-1px";a.className=this.WRAPPER_ID;document.body.appendChild(a);var e=this.container=document.createElement("div");e.id=this.CONTAINER_ID;e.appendChild(document.createTextNode("SoundJS Flash Container"));a.appendChild(e);swfobject.embedSWF(g.BASE_PATH+"FlashAudioPlugin.swf",this.CONTAINER_ID,"1","1","9.0.0",null,null,null,null,createjs.proxy(this.handleSWFReady,this))},handleSWFReady:function(a){this.flash=a.ref;this.loadTimeout=setTimeout(createjs.proxy(this.handleTimeout,
this),2E3)},handleFlashReady:function(){this.flashReady=!0;for(var a=0,e=this.queuedInstances.length;a<e;a++)this.flash.register(this.queuedInstances[a]);this.queuedInstances.length=0;for(var j in this.flashPreloadInstances)this.flashPreloadInstances[j].initialize(this.flash);for(j in this.preloadInstances)this.preloadInstances[j].initialize(this.flash);this.preloadInstances={};for(j in this.flashInstances)this.flashInstances[j].initialize(this.flash)},handleTimeout:function(){},register:function(a){this.audioSources[a]=
!0;this.flashReady?this.flash.register(a):this.queuedInstances.push(a);return{tag:new C(a,this,this.flash)}},removeSound:function(a){delete this.audioSources[a];a=this.queuedInstances.indexOf(a);-1!=a&&this.queuedInstances.splice(a,1)},removeAllSounds:function(){this.audioSources={};this.queuedInstances.length=0;this.flashInstances={};this.flashPreloadInstances={};this.preloadInstances={}},create:function(a){this.isPreloadStarted(a)||this.preload(a);try{return new y(a,this,this.flash,this.audioSources[a])}catch(e){}return null},
isPreloadStarted:function(a){return null!=this.audioSources[a]},preload:function(a,e,j){this.audioSources[a]=!0;e=new C(a,this,this.flash);null!=j&&(e.src=j+a);e.load()},registerLoadedSrc:function(a,e){this.audioSources[e]=a},setVolume:function(a){this.volume=a;return this.updateVolume()},updateVolume:function(){return this.flash.setMasterVolume(createjs.Sound.masterMute?0:this.volume)},getVolume:function(){return this.volume},setMute:function(){return this.updateVolume()},registerPreloadInstance:function(a,
e){this.flashPreloadInstances[a]=e},unregisterPreloadInstance:function(a){delete this.flashPreloadInstances[a]},registerSoundInstance:function(a,e){this.flashInstances[a]=e},unregisterSoundInstance:function(a){delete this.flashInstances[a]},flashLog:function(a){try{this.showOutput&&console.log(a)}catch(e){}},handleSoundEvent:function(a,e){var j=this.flashInstances[a];if(null!=j){for(var g=[],s=2,p=arguments.length;s<p;s++)g.push(arguments[s]);try{if(0==g.length)j[e]();else j[e].apply(j,g)}catch(y){}}},
handlePreloadEvent:function(a,e){var j=this.flashPreloadInstances[a];if(null!=j){for(var g=[],s=2,p=arguments.length;s<p;s++)g.push(arguments[s]);try{if(0==g.length)j[e]();else j[e].apply(j,g)}catch(y){}}},handleEvent:function(a){switch(a){case "ready":clearTimeout(this.loadTimeout),this.handleFlashReady()}},handleErrorEvent:function(){},toString:function(){return"[FlashPlugin]"}};createjs.FlashPlugin=g;y.prototype={src:null,flashSrc:null,uniqueId:-1,owner:null,capabilities:null,flash:null,flashId:null,
loop:0,_volume:1,get volume(){return this._volume},set volume(a){if(null!=Number(a))return this._volume=a=Math.max(0,Math.min(1,a)),this.flash.setVolume(this.flashId,a)},_pan:0,get pan(){return this._pan},set pan(a){if(null!=Number(a))return this._pan=a=Math.max(-1,Math.min(1,a)),this.flash.setPan(this.flashId,a)},offset:0,duration:0,delayTimeoutId:null,muted:!1,paused:!1,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,
onComplete:null,onLoop:null,onReady:null,onPlayFailed:null,onPlayInterrupted:null,onPlaySucceeded:null,init:function(a,e,g,w){this.src=a;this.flashSrc=w;this.owner=e;this.flash=g},initialize:function(a){this.flash=a},interrupt:function(){this.playState=createjs.Sound.PLAY_INTERRUPTED;if(null!=this.onPlayInterrupted)this.onPlayInterrupted(this);this.flash.interrupt(this.flashId);this.cleanUp();this.paused=!1;this.sendEvent("interrupted")},cleanUp:function(){clearTimeout(this.delayTimeoutId);this.owner.unregisterSoundInstance(this.flashId);
createjs.Sound.playFinished(this)},play:function(a,e,g,w,s,p){createjs.Sound.playInstance(this,a,e,g,w,s,p)},beginPlaying:function(a,e,g,w){this.loop=e;this.paused=!1;if(!this.owner.flashReady)return!1;this.offset=a;this.flashId=this.flash.playSound(this.flashSrc,a,e,g,w);if(null==this.flashId){if(null!=this.onPlayFailed)this.onPlayFailed(this);this.cleanUp();return!1}this.muted&&this.setMute(!0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this.owner.registerSoundInstance(this.flashId,this);this.onPlaySucceeded&&
this.onPlaySucceeded(this);this.sendEvent("succeeded");return!0},playFailed:function(){this.playState=createjs.Sound.PLAY_FAILED;if(null!=this.onPlayFailed)this.onPlayFailed(this);this.cleanUp();this.sendEvent("failed")},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.paused=!0,clearTimeout(this.delayTimeoutId),this.flash.pauseSound(this.flashId)):!1},resume:function(){if(!this.paused)return!1;this.paused=!1;return this.flash.resumeSound(this.flashId)},stop:function(){this.playState=
createjs.Sound.PLAY_FINISHED;this.paused=!1;this.offset=0;var a=this.flash.stopSound(this.flashId);this.cleanUp();return a},setVolume:function(a){this.volume=a},getVolume:function(){return this.volume},mute:function(a){return(this.muted=a)?this.flash.muteSound(this.flashId):this.flash.unmuteSound(this.flashId)},setMute:function(a){return(this.muted=a)?this.flash.muteSound(this.flashId):this.flash.unmuteSound(this.flashId)},getMute:function(){return this.muted},getPan:function(){return this.pan},setPan:function(a){this.pan=
a},getPosition:function(){var a=-1;this.flash&&this.flashId&&(a=this.flash.getPosition(this.flashId));-1!=a&&(this.offset=a);return this.offset},setPosition:function(a){this.offset=a;this.flash&&this.flashId&&this.flash.setPosition(this.flashId,a);return!0},getDuration:function(){var a=-1;this.flash&&this.flashId&&(a=this.flash.getDuration(this.flashId));-1!=a&&(this.duration=a);return this.duration},sendEvent:function(a){this.dispatchEvent({target:this,type:a})},handleSoundFinished:function(){this.playState=
createjs.Sound.PLAY_FINISHED;this.cleanUp();if(null!=this.onComplete)this.onComplete(this);this.sendEvent("complete")},handleSoundLoop:function(){if(null!=this.onLoop)this.onLoop(this);this.sendEvent("loop")},toString:function(){return"[FlashPlugin SoundInstance]"}};createjs.EventDispatcher.initialize(y.prototype);C.prototype={flash:null,src:null,originalSrc:null,flashId:null,progress:-1,readyState:0,loading:!1,owner:null,onload:null,onprogress:null,onerror:null,init:function(a,e,g){this.originalSrc=
this.src=a;this.owner=e;this.flash=g},initialize:function(a){this.flash=a;this.loading&&(this.loading=!1,this.load(this.src))},load:function(a){null!=a&&(this.src=a);if(null==this.flash||!this.owner.flashReady)return this.loading=!0,this.owner.preloadInstances[this.src]=this,!1;this.flashId=this.flash.preload(this.src);this.owner.registerPreloadInstance(this.flashId,this);return!0},handleProgress:function(a,e){this.progress=a/e;this.onprogress&&this.onprogress({loaded:a,total:e,progress:this.progress})},
handleComplete:function(){this.progress=1;this.readyState=4;this.owner.registerLoadedSrc(this.src,this.originalSrc);createjs.Sound.sendFileLoadEvent(this.originalSrc);this.onload&&this.onload()},handleError:function(a){this.onerror&&this.onerror(a)},toString:function(){return"[FlashPlugin SoundLoader]"}}})();(function(){var g=this.createjs=this.createjs||{},g=g.FlashPlugin=g.FlashPlugin||{};g.version="NEXT";g.buildDate="Fri, 11 Jan 2013 22:39:59 GMT"})();
